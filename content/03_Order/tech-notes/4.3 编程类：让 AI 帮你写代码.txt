【第 4 章 - 场景分类提示词大全】
4.3 编程类：让 AI 帮你写代码

很多人认为编程是程序员的专属技能。
错。**在 AI 时代，自然语言就是编程语言。**
只要你会说话，AI 就能帮你写出 Python 脚本、网页前端，甚至是一个小游戏。
对于程序员来说，AI 更是你的“十倍速”外挂。

以下是 4 个最常用的编程场景模板。

---

场景一：从零生成代码 (Generate Code)
（适用于：写脚本、做 demo、写 SQL）

**【痛点】** 想法有了，但不想查文档，不想配置环境。
**【原理】** 明确需求 + 限制技术栈。

**Prompt 模板：**
```markdown
# Role
你是一个资深全栈工程师，擅长 Python 和 Vue.js。

# Task
请帮我写一个 [功能描述，如：简单的待办事项网页]。

# Requirements
1. **技术栈**：后端使用 FastAPI，前端使用 Vue 3。
2. **功能点**：
    - 支持添加、删除、勾选完成。
    - 数据保存在本地 SQLite 数据库中。
3. **代码风格**：符合 PEP8 规范，添加必要的注释。

# Output
请直接给出完整可运行的代码。
如果有多个文件，请注明文件名。
```

---

场景二：代码解释与阅读 (Code Explanation)
（适用于：接手别人的屎山代码、学习新库）

**【痛点】** 看着几百行没注释的代码头皮发麻。
**【原理】** 请 AI 当“翻译官”。

**Prompt 模板：**
```markdown
# Role
你是一个耐心的编程导师。

# Task
请向一个[如：刚入门的初级程序员]解释下面这段代码。

# Input Code
[粘贴代码]

# Output Guidelines
1. 先用一句话概括这段代码的功能。
2. **逐行解释**关键逻辑（不必解释每一行，挑重点）。
3. 这段代码有没有潜在的 Bug 或性能问题？如果有，请指出来。
```

---

场景三：Debug 神器 (Bug Fixing)
（适用于：报错了不知道咋整）

**【痛点】** 对着报错信息查 Google 查了半小时没解决。
**【原理】** AI 是最好的 Log 分析师。

**Prompt 模板：**
```markdown
# Role
你是一个 Python 调试专家。

# Problem
我的代码运行报错了。

# Context
- **环境**：Python 3.9, Windows.
- **代码片段**：
[粘贴出错的代码及其上下文]
- **报错信息**：
[粘贴完整的 Traceback]

# Task
1. 分析报错原因。
2. 给出修复后的代码。
3. 解释为什么要这么改。
```

---

场景四：单测生成 (Unit Test Generation)
（适用于：想写测试但太懒）

**【痛点】** 写代码 5 分钟，写测试 2 小时。
**【原理】** AI 特别擅长处理这种重复性高、逻辑严密的任务。

**Prompt 模板：**
```markdown
# Role
你是一个测试驱动开发 (TDD) 的信徒。

# Task
请为下面的函数编写单元测试。

# Input Function
[粘贴你的函数代码]

# Requirements
1. 使用 `pytest` 框架。
2. 覆盖**正常情况**。
3. 覆盖**边界情况**（如输入为空、输入为负数）。
4. 覆盖**异常情况**（如输入类型错误）。

# Output
请输出完整的测试用例代码。
```

---

场景五：SQL 语句生成
（适用于：数据分析师、运营）

**【痛点】** 知道想要什么数，但 `JOIN` 来 `JOIN` 去把自己绕晕了。
**【原理】** 自然语言转 SQL。

**Prompt 模板：**
```markdown
# Role
你是一个资深数据分析师，精通 MySQL。

# Table Schema (表结构)
表 1 `users`: id, name, signup_date
表 2 `orders`: id, user_id, amount, created_at

# Task
请帮我写一个 SQL 查询。
**目标**：查询 2023 年注册的用户中，订单总金额最高的前 10 名用户，显示他们的姓名和总金额。

# Output
只输出 SQL 语句，不需要解释。
```

---

**本章小结：**
不管你是写 Python 还是写 SQL，记住一点：**AI 是一个极度听话但极度缺乏常识的初级程序员。**
你必须清楚地告诉它：用什么库？处理什么边界条件？输入是什么？输出是什么？
如果你说不清楚，它写出来的代码大概率跑不通。
所以，**想让 AI 帮你写好代码，你首先得学会当好一个“产品经理”或“架构师”。**

下一节，我们将进入**“生活”**领域。
AI 不仅能干活，还能陪你玩，帮你规划旅行，甚至帮你解决情感危机。
