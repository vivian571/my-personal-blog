# å¨±ä¹é™·é˜±ï¼šç¢ç‰‡å†…å®¹æ­£åœ¨è®©æˆ‘ä»¬ä¸§å¤±æ·±åº¦æ€è€ƒåŠ›

![å¨±ä¹é™·é˜±](https://img.shields.io/badge/è­¦æƒ•-å¨±ä¹é™·é˜±-red)

## ğŸ“± å½“æˆ‘ä»¬æ²‰è¿·çŸ­è§†é¢‘æ—¶ï¼Œåˆ°åº•å¤±å»äº†ä»€ä¹ˆï¼Ÿ

ä½ æ˜¯å¦æ›¾ç»æ‰“å¼€æ‰‹æœºåªæƒ³çœ‹ä¸€ä¼šå„¿ï¼Œç»“æœä¸€æŠ¬å¤´å·²ç»è¿‡å»ä¸¤å°æ—¶ï¼Ÿ

ä½ æ˜¯å¦å‘ç°è‡ªå·±è¶Šæ¥è¶Šéš¾ä»¥é›†ä¸­æ³¨æ„åŠ›è¯»å®Œä¸€æœ¬ä¹¦æˆ–ä¸€ç¯‡é•¿æ–‡ç« ï¼Ÿ

ä½ æ˜¯å¦æ„Ÿè§‰æ¯å¤©åˆ·äº†å¾ˆå¤šå†…å®¹ï¼Œä½†ç¬¬äºŒå¤©å´æƒ³ä¸èµ·æ¥çœ‹äº†ä»€ä¹ˆï¼Ÿ

**<font color='red'>è¿™ä¸æ˜¯ä½ çš„é”™ï¼Œè€Œæ˜¯ä½ æ‰è¿›äº†ç²¾å¿ƒè®¾è®¡çš„"å¨±ä¹é™·é˜±"ã€‚</font>**

## ğŸ•³ï¸ ç¢ç‰‡å†…å®¹ï¼šæ€è€ƒåŠ›çš„"æ¸©æ°´ç…®é’è›™"

15ç§’ä¸€ä¸ªçš„çŸ­è§†é¢‘æ­£åœ¨æ‚„æ‚„æ”¹å˜æˆ‘ä»¬çš„å¤§è„‘ã€‚

æˆ‘ä»¬çš„æ³¨æ„åŠ›è¢«åˆ‡ç¢æˆæ— æ•°å°å—ï¼Œåƒè¢«å‰ç¢çš„è”¬èœä¸€æ ·éš¾ä»¥é‡ç»„ã€‚

å¤§è„‘ä¹ æƒ¯äº†å³æ—¶æ»¡è¶³ï¼Œå˜å¾—è¶Šæ¥è¶ŠæŠ—æ‹’éœ€è¦å»¶è¿Ÿæ»¡è¶³çš„æ·±åº¦æ€è€ƒã€‚

**<font color='blue'>æˆ‘ä»¬è·å–çš„ä¿¡æ¯è¶Šæ¥è¶Šå¤šï¼Œä½†æ€è€ƒçš„æ·±åº¦å´è¶Šæ¥è¶Šæµ…ã€‚</font>**

æ¯ä¸€æ¬¡ä¸‹æ»‘åˆ·æ–°éƒ½åœ¨é‡Šæ”¾å¤šå·´èƒºï¼Œè®©æˆ‘ä»¬ä¸Šç˜¾å´ä¸æ»¡è¶³ã€‚

## ğŸ¤– ç®—æ³•æ¨èï¼šçœ‹ä¼¼ä¸ªæ€§åŒ–ï¼Œå®åˆ™æ˜¯ä¿¡æ¯èŒ§æˆ¿

"çŒœä½ å–œæ¬¢"èƒŒåæ˜¯å†°å†·çš„ç®—æ³•ï¼Œå®ƒåªå…³å¿ƒä½ çš„åœç•™æ—¶é—´ï¼Œä¸å…³å¿ƒå†…å®¹æ˜¯å¦æœ‰ä»·å€¼ã€‚

ä½ çœ‹ä»€ä¹ˆï¼Œç®—æ³•å°±æ¨ä»€ä¹ˆï¼Œå¯¼è‡´ä½ çš„è®¤çŸ¥ä¸–ç•Œè¶Šæ¥è¶Šçª„ã€‚

**<font color='green'>ç®—æ³•ä¸ä¼šæ¨èä½ éœ€è¦çš„å†…å®¹ï¼Œåªä¼šæ¨èèƒ½è®©ä½ åœç•™çš„å†…å®¹ã€‚</font>**

è¿™å°±åƒä¸€ä¸ªäº†è§£ä½ æ‰€æœ‰å–œå¥½çš„æœ‹å‹ï¼Œå´åªç»™ä½ æ¨èåƒåœ¾é£Ÿå“ã€‚

ä½ çš„ä¸–ç•Œè§‚è¢«ç®—æ³•å¡‘é€ ï¼Œå´æµ‘ç„¶ä¸è§‰ã€‚

## â° æ—¶é—´é»‘æ´ï¼šæ³¨æ„åŠ›çš„æ— åº•æ´

çŸ­è§†é¢‘å¹³å°çš„è®¾è®¡ç›®æ ‡åªæœ‰ä¸€ä¸ªï¼šè®©ä½ åœç•™æ›´ä¹…ã€‚

æ— é™ä¸‹æ»‘çš„è®¾è®¡æ¶ˆé™¤äº†è‡ªç„¶åœæ­¢ç‚¹ï¼Œè®©ä½ æ°¸è¿œæ‰¾ä¸åˆ°å‡ºå£ã€‚

**<font color='purple'>ä½ ä»¥ä¸ºä½ åœ¨æ¶ˆé£æ—¶é—´ï¼Œå®é™…ä¸Šæ˜¯æ—¶é—´åœ¨æ¶ˆè€—ä½ ã€‚</font>**

æ¯ä¸€åˆ†é’Ÿçš„å¨±ä¹æ—¶é—´éƒ½æ˜¯ä»å…¶ä»–å¯èƒ½æ›´æœ‰æ„ä¹‰çš„äº‹æƒ…ä¸­å·æ¥çš„ã€‚

å½“ä½ èººåœ¨åºŠä¸Šåˆ·æ‰‹æœºæ—¶ï¼Œä½ æœ¬å¯ä»¥è¯»ä¸€æœ¬ä¹¦ã€å­¦ä¸€é¡¹æŠ€èƒ½æˆ–ä¸å®¶äººäº¤æµã€‚

## ğŸ§  è®¤çŸ¥ç„¦è™‘ï¼šä¿¡æ¯è¿‡è½½çš„å‰¯ä½œç”¨

æˆ‘ä»¬æ¯å¤©æ¥æ”¶çš„ä¿¡æ¯é‡æ˜¯30å¹´å‰çš„5å€ï¼Œä½†å¤§è„‘å¤„ç†èƒ½åŠ›å¹¶æ²¡æœ‰æå‡ã€‚

çœ‹ä¼¼åœ¨"å……ç”µ"ï¼Œå®åˆ™åœ¨"æ”¾ç”µ"ï¼Œå¤§è„‘ç–²äºå¤„ç†ç¢ç‰‡ä¿¡æ¯è€Œæ— æ³•å½¢æˆç³»ç»Ÿæ€è€ƒã€‚

**<font color='orange'>ä¿¡æ¯è¶Šå¤šï¼Œç„¦è™‘è¶Šæ·±ï¼ŒçŸ¥è¯†è¶Šå°‘ã€‚</font>**

åˆ·å®ŒçŸ­è§†é¢‘åï¼Œä½ è·å¾—äº†ä»€ä¹ˆï¼Ÿé™¤äº†ä¸€æ—¶çš„å¨±ä¹ï¼Œå¯èƒ½åªå‰©ä¸‹æ›´æ·±çš„ç©ºè™šã€‚

æˆ‘ä»¬è¢«å›°åœ¨ä¿¡æ¯çš„æµ·æ´‹ä¸­ï¼Œå´æ‰¾ä¸åˆ°çŸ¥è¯†çš„èˆªå‘ã€‚

## ğŸ›¡ï¸ å¦‚ä½•ç ´è§£å¨±ä¹é™·é˜±ï¼Ÿ

### 1. è®¾ç½®"å¨±ä¹æ—¶é—´é”"

ç»™è‡ªå·±è®¾å®šæ˜ç¡®çš„å¨±ä¹æ—¶é—´è¾¹ç•Œï¼Œæ¯”å¦‚æ™šä¸Š8ç‚¹åˆ°9ç‚¹ã€‚

**<font color='red'>è¾¹ç•Œä¸æ˜¯é™åˆ¶è‡ªç”±ï¼Œè€Œæ˜¯ä¿æŠ¤çœŸæ­£çš„è‡ªç”±ã€‚</font>**

ä½¿ç”¨æ‰‹æœºè‡ªå¸¦çš„å±å¹•æ—¶é—´ç®¡ç†åŠŸèƒ½ï¼Œæˆ–å®‰è£…ç¬¬ä¸‰æ–¹åº”ç”¨æ¥ç›‘æ§å’Œé™åˆ¶ä½¿ç”¨æ—¶é—´ã€‚

### 2. ä¸»åŠ¨é€‰æ‹©ï¼Œè€Œéè¢«åŠ¨æ¥å—

æå‰è®¡åˆ’ä½ è¦çœ‹çš„å†…å®¹ï¼Œè€Œä¸æ˜¯æ‰“å¼€åº”ç”¨åéšæ„æµè§ˆã€‚

**<font color='blue'>åšå†…å®¹çš„ä¸»äººï¼Œè€Œä¸æ˜¯ç®—æ³•çš„å¥´éš¶ã€‚</font>**

å…³é—­"çŒœä½ å–œæ¬¢"ç­‰æ¨èåŠŸèƒ½ï¼Œä½¿ç”¨æœç´¢åŠŸèƒ½ä¸»åŠ¨å¯»æ‰¾ä½ çœŸæ­£éœ€è¦çš„å†…å®¹ã€‚

### 3. ç”¨"é«˜è´¨é‡å¿«ä¹"æ›¿ä»£"åƒåœ¾å¿«ä¹"

é˜…è¯»ä¸€æœ¬å¥½ä¹¦ã€å­¦ä¹ ä¸€é¡¹æ–°æŠ€èƒ½ã€ä¸æœ‹å‹æ·±åº¦äº¤æµï¼Œè¿™äº›éƒ½æ˜¯æ›´æŒä¹…çš„å¿«ä¹æ¥æºã€‚

**<font color='green'>çœŸæ­£çš„å¿«ä¹æ¥è‡ªæˆé•¿å’Œè¿æ¥ï¼Œè€Œéæ¶ˆé£å’Œé€ƒé¿ã€‚</font>**

å°è¯•æ¯å‘¨å®‰æ’ä¸€å¤©çš„"æ•°å­—æ’æ¯’æ—¥"ï¼Œå®Œå…¨è¿œç¦»æ‰‹æœºå’Œç¤¾äº¤åª’ä½“ã€‚

### 4. åŸ¹å…»å»¶è¿Ÿæ»¡è¶³èƒ½åŠ›

åˆ»æ„ç»ƒä¹ ä¸“æ³¨äºä¸€ä»¶äº‹æƒ…30åˆ†é’Ÿï¼Œç„¶åé€æ¸å»¶é•¿æ—¶é—´ã€‚

**<font color='purple'>å»¶è¿Ÿæ»¡è¶³æ˜¯æˆå¹´äººæœ€é‡è¦çš„èƒ½åŠ›ä¹‹ä¸€ã€‚</font>**

å½“ä½ æ„Ÿåˆ°æ— èŠæ—¶ï¼Œè¯•ç€å¿å—å®ƒï¼Œè€Œä¸æ˜¯ç«‹å³æ‹¿èµ·æ‰‹æœºå¯»æ±‚åˆºæ¿€ã€‚

## ğŸ’» å¨±ä¹æ—¶é—´ç®¡ç†åŠ©æ‰‹ï¼šPythonè„šæœ¬å®æˆ˜

ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•ä½†å®ç”¨çš„Pythonè„šæœ¬ï¼Œå¸®åŠ©ä½ ç›‘æ§å’Œç®¡ç†å¨±ä¹åº”ç”¨çš„ä½¿ç”¨æ—¶é—´ï¼š

```python
import time
import datetime
import json
import os
import matplotlib.pyplot as plt
import numpy as np
from tkinter import *
from tkinter import messagebox

class EntertainmentTracker:
    def __init__(self):
        self.user_preferences = {}
        self.usage_data = {}
        self.daily_limits = {}
        self.data_file = "entertainment_tracker_data.json"
        self.load_data()
        
    def load_data(self):
        """ä»æ–‡ä»¶åŠ è½½ä½¿ç”¨æ•°æ®"""
        if os.path.exists(self.data_file):
            try:
                with open(self.data_file, 'r', encoding='utf-8') as f:
                    data = json.load(f)
                    self.usage_data = data.get('usage_data', {})
                    self.daily_limits = data.get('daily_limits', {})
                    self.user_preferences = data.get('user_preferences', {})
            except Exception as e:
                print(f"åŠ è½½æ•°æ®æ—¶å‡ºé”™: {e}")
                self.initialize_default_data()
        else:
            self.initialize_default_data()
    
    def initialize_default_data(self):
        """åˆå§‹åŒ–é»˜è®¤æ•°æ®"""
        self.usage_data = {}
        self.daily_limits = {
            "æŠ–éŸ³": 30,  # åˆ†é’Ÿ
            "å¾®ä¿¡": 60,
            "å¾®åš": 20,
            "æ¸¸æˆ": 60,
            "å…¶ä»–": 30
        }
        self.user_preferences = {
            "æé†’æ–¹å¼": "å¼¹çª—",
            "ç»Ÿè®¡å‘¨æœŸ": "æ¯æ—¥",
            "è‡ªåŠ¨å…³é—­": False
        }
        self.save_data()
    
    def save_data(self):
        """ä¿å­˜æ•°æ®åˆ°æ–‡ä»¶"""
        data = {
            'usage_data': self.usage_data,
            'daily_limits': self.daily_limits,
            'user_preferences': self.user_preferences
        }
        with open(self.data_file, 'w', encoding='utf-8') as f:
            json.dump(data, f, ensure_ascii=False, indent=4)
    
    def start_tracking(self, app_name):
        """å¼€å§‹è¿½è¸ªåº”ç”¨ä½¿ç”¨æ—¶é—´"""
        today = datetime.date.today().isoformat()
        if today not in self.usage_data:
            self.usage_data[today] = {}
        
        if app_name not in self.usage_data[today]:
            self.usage_data[today][app_name] = {
                "sessions": [],
                "total_minutes": 0
            }
        
        # è®°å½•ä¼šè¯å¼€å§‹æ—¶é—´
        session = {
            "start": time.time(),
            "end": None,
            "duration": 0
        }
        
        self.usage_data[today][app_name]["sessions"].append(session)
        self.save_data()
        return len(self.usage_data[today][app_name]["sessions"]) - 1  # è¿”å›ä¼šè¯ç´¢å¼•
    
    def stop_tracking(self, app_name, session_index):
        """åœæ­¢è¿½è¸ªåº”ç”¨ä½¿ç”¨æ—¶é—´"""
        today = datetime.date.today().isoformat()
        if today in self.usage_data and app_name in self.usage_data[today]:
            sessions = self.usage_data[today][app_name]["sessions"]
            if 0 <= session_index < len(sessions):
                session = sessions[session_index]
                session["end"] = time.time()
                session["duration"] = (session["end"] - session["start"]) / 60  # è½¬æ¢ä¸ºåˆ†é’Ÿ
                
                # æ›´æ–°æ€»ä½¿ç”¨æ—¶é—´
                self.usage_data[today][app_name]["total_minutes"] += session["duration"]
                self.save_data()
                
                # æ£€æŸ¥æ˜¯å¦è¶…å‡ºé™åˆ¶
                self.check_limits(app_name)
    
    def check_limits(self, app_name):
        """æ£€æŸ¥æ˜¯å¦è¶…å‡ºæ¯æ—¥é™åˆ¶"""
        today = datetime.date.today().isoformat()
        if today in self.usage_data and app_name in self.usage_data[today]:
            total_minutes = self.usage_data[today][app_name]["total_minutes"]
            limit = self.daily_limits.get(app_name, float('inf'))
            
            if total_minutes >= limit:
                if self.user_preferences["æé†’æ–¹å¼"] == "å¼¹çª—":
                    self.show_limit_warning(app_name, total_minutes, limit)
    
    def show_limit_warning(self, app_name, used_minutes, limit_minutes):
        """æ˜¾ç¤ºè¶…å‡ºé™åˆ¶è­¦å‘Š"""
        root = Tk()
        root.withdraw()  # éšè—ä¸»çª—å£
        
        message = f"è­¦å‘Šï¼šä½ ä»Šå¤©å·²ç»ä½¿ç”¨{app_name} {used_minutes:.1f}åˆ†é’Ÿï¼Œè¶…å‡ºäº†è®¾å®šçš„{limit_minutes}åˆ†é’Ÿé™åˆ¶ï¼\n\næ˜¯å¦ç»§ç»­ä½¿ç”¨ï¼Ÿ"
        result = messagebox.askquestion("ä½¿ç”¨æ—¶é—´æé†’", message, icon='warning')
        
        if result == 'no' and self.user_preferences["è‡ªåŠ¨å…³é—­"]:
            # è¿™é‡Œå¯ä»¥æ·»åŠ è‡ªåŠ¨å…³é—­åº”ç”¨çš„ä»£ç 
            pass
        
        root.destroy()
    
    def generate_weekly_report(self):
        """ç”Ÿæˆæ¯å‘¨ä½¿ç”¨æŠ¥å‘Š"""
        # è·å–è¿‡å»7å¤©çš„æ•°æ®
        today = datetime.date.today()
        dates = [(today - datetime.timedelta(days=i)).isoformat() for i in range(7)]
        dates.reverse()  # ä»æœ€æ—©åˆ°æœ€è¿‘æ’åº
        
        # æ”¶é›†æ•°æ®
        apps = set()
        for date in dates:
            if date in self.usage_data:
                apps.update(self.usage_data[date].keys())
        
        # å‡†å¤‡ç»˜å›¾æ•°æ®
        app_data = {app: [] for app in apps}
        for date in dates:
            for app in apps:
                if date in self.usage_data and app in self.usage_data[date]:
                    app_data[app].append(self.usage_data[date][app]["total_minutes"])
                else:
                    app_data[app].append(0)
        
        # ç»˜åˆ¶å †å æŸ±çŠ¶å›¾
        plt.figure(figsize=(12, 8))
        
        bottom = np.zeros(len(dates))
        for app, data in app_data.items():
            plt.bar(dates, data, bottom=bottom, label=app)
            bottom += np.array(data)
        
        plt.title('è¿‡å»7å¤©å¨±ä¹åº”ç”¨ä½¿ç”¨æ—¶é—´')
        plt.xlabel('æ—¥æœŸ')
        plt.ylabel('ä½¿ç”¨æ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰')
        plt.legend()
        plt.xticks(rotation=45)
        plt.tight_layout()
        
        # ä¿å­˜å›¾è¡¨
        report_file = f"weekly_report_{today.isoformat()}.png"
        plt.savefig(report_file)
        plt.close()
        
        return report_file

# ä½¿ç”¨ç¤ºä¾‹
if __name__ == "__main__":
    tracker = EntertainmentTracker()
    
    # æ¨¡æ‹Ÿä½¿ç”¨æŠ–éŸ³15åˆ†é’Ÿ
    print("å¼€å§‹ä½¿ç”¨æŠ–éŸ³...")
    session_id = tracker.start_tracking("æŠ–éŸ³")
    time.sleep(3)  # å®é™…ä½¿ç”¨ä¸­è¿™é‡Œæ˜¯çœŸå®çš„ä½¿ç”¨æ—¶é—´
    tracker.stop_tracking("æŠ–éŸ³", session_id)
    print("åœæ­¢ä½¿ç”¨æŠ–éŸ³")
    
    # ç”Ÿæˆå‘¨æŠ¥
    report_file = tracker.generate_weekly_report()
    print(f"å‘¨æŠ¥å·²ç”Ÿæˆ: {report_file}")
```

## ğŸ”‘ ç»“è¯­ï¼šçœŸæ­£çš„è‡ªç”±

**<font color='red'>çœŸæ­£çš„è‡ªç”±ï¼Œä¸æ˜¯æƒ³åšä»€ä¹ˆå°±åšä»€ä¹ˆï¼Œè€Œæ˜¯ä¸è¢«æ¬²æœ›æ§åˆ¶çš„èƒ½åŠ›ã€‚</font>**

å½“æˆ‘ä»¬èƒ½å¤ŸæŒæ§è‡ªå·±çš„æ³¨æ„åŠ›ï¼Œæˆ‘ä»¬æ‰èƒ½çœŸæ­£æŒæ§è‡ªå·±çš„äººç”Ÿã€‚

å¨±ä¹ä¸æ˜¯æ•Œäººï¼Œå¤±æ§çš„å¨±ä¹æ‰æ˜¯ã€‚

é€‚åº¦äº«å—å¨±ä¹ï¼Œä½†ä¸è¦è¢«å¨±ä¹å¥´å½¹ã€‚

åœ¨è¿™ä¸ªä¿¡æ¯çˆ†ç‚¸çš„æ—¶ä»£ï¼Œæœ€ç¨€ç¼ºçš„èµ„æºä¸æ˜¯ä¿¡æ¯ï¼Œè€Œæ˜¯æ³¨æ„åŠ›ã€‚

ä¿æŠ¤ä½ çš„æ³¨æ„åŠ›ï¼Œå°±æ˜¯ä¿æŠ¤ä½ çš„äººç”Ÿã€‚

**<font color='blue'>è­¦æƒ•å¨±ä¹è‡³æ­»çš„æ—¶ä»£ï¼Œå®ˆæŠ¤æ€è€ƒçš„èƒ½åŠ›ã€‚</font>**

ä½ çš„æ—¶é—´å»å‘ï¼Œå†³å®šäº†ä½ çš„äººç”Ÿèµ°å‘ã€‚

ä»Šå¤©ï¼Œå°±ä»å…³æ‰é‚£ä¸ªçŸ­è§†é¢‘APPå¼€å§‹å§ï¼