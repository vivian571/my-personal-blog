---
title: "Pythonè‡ªåŠ¨å‘å¸ƒå°çº¢ä¹¦æ•™ç¨‹"
slug: "Pythonè‡ªåŠ¨å‘å¸ƒå°çº¢ä¹¦æ•™ç¨‹"
date: "2025-05-07T00:38:45.278409+00:00"
---

# ğŸ”¥ Pythonè‡ªåŠ¨å‘å¸ƒå°çº¢ä¹¦ç¥å™¨ï¼ä¸€é”®æ‰¹é‡ç”Ÿæˆçˆ†æ¬¾ç¬”è®°ï¼Œå°ç™½ä¹Ÿèƒ½è½»æ¾ä¸Šæ‰‹

**è§£æ”¾åŒæ‰‹çš„ç§˜å¯†æ­¦å™¨æ¥å•¦ï¼**

ä½ æ˜¯ä¸æ˜¯æ¯å¤©èŠ±å¤§é‡æ—¶é—´åœ¨å°çº¢ä¹¦ä¸Šå‘å†…å®¹ï¼Ÿ

ä½ æ˜¯ä¸æ˜¯æƒ³æ‰¹é‡ç”Ÿäº§é«˜è´¨é‡ç¬”è®°ï¼Œä½†äººå·¥æ ¹æœ¬å¿™ä¸è¿‡æ¥ï¼Ÿ

ä½ æ˜¯ä¸æ˜¯æ‹…å¿ƒè‡ªåŠ¨ç”Ÿæˆçš„å†…å®¹æ²¡æœ‰å¸å¼•åŠ›ï¼Ÿ

<font color="#FF5151">**ä»Šå¤©æˆ‘å°±æ•™ä½ ç”¨Pythonå®ç°å°çº¢ä¹¦å…¨è‡ªåŠ¨å‘å¸ƒï¼Œä»å†…å®¹ç”Ÿæˆåˆ°å›¾ç‰‡åˆ¶ä½œï¼Œå†åˆ°ä¸€é”®å‘å¸ƒï¼Œå…¨ç¨‹æ— éœ€äººå·¥å¹²é¢„ï¼**</font>

## âœ… å…ˆçœ‹çœ‹è¿™ä¸ªç¥å™¨èƒ½åšä»€ä¹ˆ

- **è‡ªåŠ¨ç”Ÿæˆå¸å¼•äººçš„å°çº¢ä¹¦æ ‡é¢˜**ï¼ˆå¸¦emojiè¡¨æƒ…ï¼Œå¸ç›åˆæœ‰ç‚¹å‡»ç‡ï¼‰
- **è‡ªåŠ¨ç”Ÿæˆé«˜è´¨é‡çš„å°çº¢ä¹¦æ­£æ–‡å†…å®¹**ï¼ˆAIæ’°å†™ï¼Œé¿å…åƒç¯‡ä¸€å¾‹ï¼‰
- **è‡ªåŠ¨ç”Ÿæˆä¸å†…å®¹åŒ¹é…çš„ç²¾ç¾å›¾ç‰‡**ï¼ˆå‘Šåˆ«æ‰¾å›¾çƒ¦æ¼ï¼‰
- **è‡ªåŠ¨ç™»å½•å°çº¢ä¹¦å¹¶å‘å¸ƒå†…å®¹**ï¼ˆè§£æ”¾ä½ çš„åŒæ‰‹ï¼‰
- **æ”¯æŒæ‰¹é‡æ“ä½œ**ï¼ˆç¡ä¸€è§‰èµ·æ¥ï¼Œ10ç¯‡ç¬”è®°å·²ç»å‘å®Œäº†ï¼‰

<font color="#3498DB">**æœ€é‡è¦çš„æ˜¯ï¼Œå…¨ç¨‹åªéœ€è¦å‡ è¡ŒPythonä»£ç ï¼Œå°ç™½ä¹Ÿèƒ½è½»æ¾ä¸Šæ‰‹ï¼**</font>

![å°çº¢ä¹¦è‡ªåŠ¨å‘å¸ƒæ•ˆæœå›¾](https://images.unsplash.com/photo-1555066931-4365d14bab8c?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80)

## ğŸ› ï¸ å‡†å¤‡å·¥ä½œ

åœ¨å¼€å§‹ç¼–ç å‰ï¼Œæˆ‘ä»¬éœ€è¦å‡†å¤‡ä»¥ä¸‹å·¥å…·ï¼š

1. **Pythonç¯å¢ƒ**ï¼ˆ3.7ä»¥ä¸Šç‰ˆæœ¬ï¼‰

2. **OpenAI API Key**ï¼ˆç”¨äºAIå†…å®¹ç”Ÿæˆï¼Œå¯ä»¥åœ¨OpenAIå®˜ç½‘ç”³è¯·ï¼‰

3. **å¿…è¦çš„Pythonåº“**

<font color="#27AE60">**å…ˆå®‰è£…æ‰€éœ€çš„åº“ï¼š**</font>

```python
# åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œ
pip install openai requests pillow selenium python-dotenv
```

4. **åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶**

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ª`.env`æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

```
OPENAI_API_KEY=ä½ çš„OpenAI_API_Key
```

<font color="#9B59B6">**å‡†å¤‡å·¥ä½œåšå¥½äº†ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹ç¼–å†™ä»£ç äº†ï¼**</font>

## ğŸ§  ç¬¬ä¸€æ­¥ï¼šAIå†…å®¹ç”Ÿæˆæ¨¡å—

é¦–å…ˆï¼Œæˆ‘ä»¬æ¥å®ç°AIå†…å®¹ç”Ÿæˆæ¨¡å—ï¼Œè¿™æ˜¯æ•´ä¸ªè‡ªåŠ¨åŒ–æµç¨‹çš„æ ¸å¿ƒã€‚

åˆ›å»ºä¸€ä¸ªåä¸º`ai_content_generator.py`çš„æ–‡ä»¶ï¼š

```python
# ai_content_generator.py

import os
import openai
from dotenv import load_dotenv
import json
import random

# åŠ è½½ç¯å¢ƒå˜é‡
load_dotenv()

# è®¾ç½®OpenAI APIå¯†é’¥
openai.api_key = os.getenv("OPENAI_API_KEY")

class ContentGenerator:
    def __init__(self):
        self.topics = [
            "ç¾é£Ÿæ¢åº—", "ç©¿æ­åˆ†äº«", "æŠ¤è‚¤å¿ƒå¾—", 
            "æ—…è¡Œæ”»ç•¥", "ç”Ÿæ´»å°æŠ€å·§", "è¯»ä¹¦ç¬”è®°"
        ]
        
    def generate_title(self, topic):
        """ç”Ÿæˆå¸å¼•äººçš„æ ‡é¢˜"""
        prompt = f"ä¸ºå°çº¢ä¹¦å¹³å°åˆ›å»ºä¸€ä¸ªå…³äº{topic}çš„å¸å¼•äººæ ‡é¢˜ï¼Œè¦æ±‚ï¼š\n"
        prompt += "1. ä½¿ç”¨emojiè¡¨æƒ…å¢åŠ æ´»åŠ›\n"
        prompt += "2. é•¿åº¦åœ¨15-25å­—ä¹‹é—´\n"
        prompt += "3. åŒ…å«ä¸€äº›å¸å¼•äººçš„å½¢å®¹è¯\n"
        prompt += "4. å¼•èµ·è¯»è€…çš„å¥½å¥‡å¿ƒæˆ–å…±é¸£"
        
        response = openai.ChatCompletion.create(
            model="gpt-3.5-turbo",
            messages=[
                {"role": "system", "content": "ä½ æ˜¯ä¸€ä½ä¸“ä¸šçš„ç¤¾äº¤åª’ä½“å†…å®¹åˆ›ä½œè€…ï¼Œæ“…é•¿åˆ›ä½œå¸å¼•äººçš„æ ‡é¢˜ã€‚"},
                {"role": "user", "content": prompt}
            ],
            max_tokens=50,
            temperature=0.7
        )
        
        return response.choices[0].message.content.strip()
    
    def generate_content(self, topic, title):
        """ç”Ÿæˆå¸–å­å†…å®¹"""
        prompt = f"ä¸ºå°çº¢ä¹¦å¹³å°åˆ›å»ºä¸€ä¸ªå…³äº'{topic}'çš„å¸–å­å†…å®¹ï¼Œæ ‡é¢˜æ˜¯'{title}'ï¼Œè¦æ±‚ï¼š\n"
        prompt += "1. å†…å®¹é•¿åº¦åœ¨500-800å­—ä¹‹é—´\n"
        prompt += "2. åˆ†æ®µæ¸…æ™°ï¼Œæ¯æ®µä¸è¶…è¿‡50å­—\n"
        prompt += "3. è¯­è¨€é£æ ¼äº²åˆ‡è‡ªç„¶ï¼Œä½¿ç”¨ç¬¬ä¸€äººç§°\n"
        prompt += "4. åŒ…å«2-3ä¸ªé€‚å½“çš„emojiè¡¨æƒ…\n"
        prompt += "5. ç»“å°¾åŠ ä¸Š2-3ä¸ªç›¸å…³è¯é¢˜æ ‡ç­¾ï¼Œæ ¼å¼ä¸ºï¼š#è¯é¢˜"
        
        response = openai.ChatCompletion.create(
            model="gpt-3.5-turbo",
            messages=[
                {"role": "system", "content": "ä½ æ˜¯ä¸€ä½ä¸“ä¸šçš„ç¤¾äº¤åª’ä½“å†…å®¹åˆ›ä½œè€…ï¼Œæ“…é•¿åˆ›ä½œå¸å¼•äººçš„å°çº¢ä¹¦é£æ ¼å†…å®¹ã€‚"},
                {"role": "user", "content": prompt}
            ],
            max_tokens=1000,
            temperature=0.7
        )
        
        return response.choices[0].message.content.strip()
    
    def generate_image_prompt(self, topic, title):
        """ç”Ÿæˆå›¾ç‰‡æç¤ºè¯"""
        prompt = f"ä¸ºå°çº¢ä¹¦å¹³å°åˆ›å»ºä¸€ä¸ªå…³äº'{topic}'çš„å¸–å­é…å›¾æç¤ºè¯ï¼Œæ ‡é¢˜æ˜¯'{title}'ï¼Œè¦æ±‚ï¼š\n"
        prompt += "1. æç¤ºè¯åº”è¯¥è¯¦ç»†æè¿°å›¾ç‰‡å†…å®¹ã€é£æ ¼ã€è‰²è°ƒç­‰\n"
        prompt += "2. é€‚åˆç”¨äºAIå›¾åƒç”Ÿæˆå·¥å…·\n"
        prompt += "3. å›¾ç‰‡é£æ ¼è¦ç¬¦åˆå°çº¢ä¹¦å¹³å°å®¡ç¾ï¼ˆæ¸…æ–°ã€é«˜çº§æ„Ÿã€ç”Ÿæ´»åŒ–ï¼‰"
        
        response = openai.ChatCompletion.create(
            model="gpt-3.5-turbo",
            messages=[
                {"role": "system", "content": "ä½ æ˜¯ä¸€ä½ä¸“ä¸šçš„AIå›¾åƒæç¤ºè¯å·¥ç¨‹å¸ˆï¼Œæ“…é•¿åˆ›ä½œè¯¦ç»†çš„å›¾åƒæè¿°ã€‚"},
                {"role": "user", "content": prompt}
            ],
            max_tokens=200,
            temperature=0.7
        )
        
        return response.choices[0].message.content.strip()
    
    def create_post(self, topic=None):
        """åˆ›å»ºå®Œæ•´çš„å¸–å­"""
        if topic is None:
            topic = random.choice(self.topics)
            
        title = self.generate_title(topic)
        content = self.generate_content(topic, title)
        image_prompt = self.generate_image_prompt(topic, title)
        
        post = {
            "topic": topic,
            "title": title,
            "content": content,
            "image_prompt": image_prompt
        }
        
        return post
    
    def batch_create(self, count=5, save_to_file=True):
        """æ‰¹é‡åˆ›å»ºå¤šä¸ªå¸–å­"""
        posts = []
        for _ in range(count):
            topic = random.choice(self.topics)
            post = self.create_post(topic)
            posts.append(post)
            print(f"å·²ç”Ÿæˆ: {post['title']}")
        
        if save_to_file:
            with open("generated_posts.json", "w", encoding="utf-8") as f:
                json.dump(posts, f, ensure_ascii=False, indent=4)
            print(f"å·²ä¿å­˜{count}ä¸ªå¸–å­åˆ°generated_posts.json")
            
        return posts

# ä½¿ç”¨ç¤ºä¾‹
if __name__ == "__main__":
    generator = ContentGenerator()
    # ç”Ÿæˆå•ä¸ªå¸–å­
    post = generator.create_post("æŠ¤è‚¤å¿ƒå¾—")
    print(json.dumps(post, ensure_ascii=False, indent=4))
    
    # æ‰¹é‡ç”Ÿæˆ5ä¸ªå¸–å­
    # generator.batch_create(5)
```

<font color="#E74C3C">**è¿™ä¸ªæ¨¡å—å¯ä»¥å¸®æˆ‘ä»¬ç”Ÿæˆæ ‡é¢˜ã€æ­£æ–‡å†…å®¹å’Œå›¾ç‰‡æç¤ºè¯ï¼Œå…¨éƒ¨ç”±AIå®Œæˆï¼Œè´¨é‡æœ‰ä¿è¯ï¼**</font>

![AIå†…å®¹ç”Ÿæˆæ•ˆæœ](https://images.pexels.com/photos/7988079/pexels-photo-7988079.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1)

## ğŸ–¼ï¸ ç¬¬äºŒæ­¥ï¼šå›¾ç‰‡ç”Ÿæˆæ¨¡å—

æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å®ç°å›¾ç‰‡ç”Ÿæˆæ¨¡å—ï¼Œä¸ºå¸–å­ç”Ÿæˆç²¾ç¾é…å›¾ã€‚

åˆ›å»ºä¸€ä¸ªåä¸º`image_generator.py`çš„æ–‡ä»¶ï¼š

```python
# image_generator.py

import os
import requests
import base64
from PIL import Image
from io import BytesIO
from dotenv import load_dotenv
import time

# åŠ è½½ç¯å¢ƒå˜é‡
load_dotenv()

class ImageGenerator:
    def __init__(self):
        # è¿™é‡Œä½¿ç”¨OpenAIçš„DALL-E APIç”Ÿæˆå›¾ç‰‡
        self.api_key = os.getenv("OPENAI_API_KEY")
        
    def generate_image(self, prompt, filename="generated_image.jpg"):
        """ä½¿ç”¨DALL-Eç”Ÿæˆå›¾ç‰‡"""
        headers = {
            "Content-Type": "application/json",
            "Authorization": f"Bearer {self.api_key}"
        }
        
        payload = {
            "prompt": prompt,
            "n": 1,
            "size": "1024x1024",
            "response_format": "b64_json"
        }
        
        try:
            response = requests.post(
                "https://api.openai.com/v1/images/generations",
                headers=headers,
                json=payload
            )
            
            if response.status_code == 200:
                image_data = response.json()["data"][0]["b64_json"]
                image_bytes = base64.b64decode(image_data)
                
                # ä¿å­˜å›¾ç‰‡
                img = Image.open(BytesIO(image_bytes))
                img.save(filename)
                print(f"å›¾ç‰‡å·²ä¿å­˜ä¸º: {filename}")
                return filename
            else:
                print(f"ç”Ÿæˆå›¾ç‰‡å¤±è´¥: {response.text}")
                return None
        except Exception as e:
            print(f"ç”Ÿæˆå›¾ç‰‡æ—¶å‡ºé”™: {str(e)}")
            return None
    
    def generate_multiple_images(self, prompts, base_filename="image"):
        """ç”Ÿæˆå¤šå¼ å›¾ç‰‡"""
        filenames = []
        for i, prompt in enumerate(prompts):
            filename = f"{base_filename}_{i+1}.jpg"
            result = self.generate_image(prompt, filename)
            if result:
                filenames.append(result)
            # é¿å…APIé™åˆ¶ï¼Œæ·»åŠ å»¶è¿Ÿ
            time.sleep(2)
        
        return filenames

# ä½¿ç”¨ç¤ºä¾‹
if __name__ == "__main__":
    generator = ImageGenerator()
    prompt = "ä¸€å¼ ç²¾ç¾çš„æŠ¤è‚¤äº§å“æ‘†æ‹ï¼Œæœ‰åŒ–å¦†æ°´ã€ç²¾åå’Œé¢éœœï¼ŒèƒŒæ™¯æ˜¯å¤§ç†çŸ³å°é¢ï¼Œå…‰çº¿æŸ”å’Œï¼Œè‰²è°ƒæ¸©æš–ï¼Œé«˜çº§æ„Ÿåè¶³"
    generator.generate_image(prompt, "skincare_flatlay.jpg")
```

<font color="#F39C12">**æœ‰äº†è¿™ä¸ªæ¨¡å—ï¼Œæˆ‘ä»¬å°±èƒ½æ ¹æ®AIç”Ÿæˆçš„æç¤ºè¯è‡ªåŠ¨åˆ›å»ºç²¾ç¾çš„é…å›¾ï¼Œå†ä¹Ÿä¸ç”¨ä¸ºæ‰¾å›¾å‘æ„äº†ï¼**</font>

![AIå›¾ç‰‡ç”Ÿæˆæ•ˆæœ](https://images.unsplash.com/photo-1620712943543-bcc4688e7485?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80)

## ğŸ“± ç¬¬ä¸‰æ­¥ï¼šå°çº¢ä¹¦è‡ªåŠ¨å‘å¸ƒæ¨¡å—

ç°åœ¨ï¼Œæˆ‘ä»¬æ¥å®ç°è‡ªåŠ¨å‘å¸ƒåˆ°å°çº¢ä¹¦çš„åŠŸèƒ½ã€‚è¿™é‡Œä½¿ç”¨Seleniumæ¨¡æ‹Ÿæ‰‹æœºæ“ä½œã€‚

åˆ›å»ºä¸€ä¸ªåä¸º`xiaohongshu_publisher.py`çš„æ–‡ä»¶ï¼š

```python
# xiaohongshu_publisher.py

from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC
from selenium.webdriver.chrome.options import Options
import time
import os
import json
import random

class XiaohongshuPublisher:
    def __init__(self, use_mobile_emulation=True):
        self.setup_driver(use_mobile_emulation)
        self.is_logged_in = False
        
    def setup_driver(self, use_mobile_emulation):
        """è®¾ç½®WebDriver"""
        chrome_options = Options()
        
        if use_mobile_emulation:
            # æ¨¡æ‹ŸiPhone X
            mobile_emulation = {
                "deviceMetrics": { "width": 375, "height": 812, "pixelRatio": 3.0 },
                "userAgent": "Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1"
            }
            chrome_options.add_experimental_option("mobileEmulation", mobile_emulation)
        
        # å…¶ä»–å¸¸ç”¨è®¾ç½®
        chrome_options.add_argument("--no-sandbox")
        chrome_options.add_argument("--disable-dev-shm-usage")
        
        # åˆå§‹åŒ–WebDriver
        self.driver = webdriver.Chrome(options=chrome_options)
        self.wait = WebDriverWait(self.driver, 20)
    
    def login(self, use_cookies=True, cookies_file="xiaohongshu_cookies.json"):
        """ç™»å½•å°çº¢ä¹¦"""
        if use_cookies and os.path.exists(cookies_file):
            # ä½¿ç”¨ä¿å­˜çš„cookiesç™»å½•
            self.driver.get("https://www.xiaohongshu.com")
            with open(cookies_file, "r") as f:
                cookies = json.load(f)
            for cookie in cookies:
                self.driver.add_cookie(cookie)
            self.driver.refresh()
            time.sleep(3)
            
            # éªŒè¯æ˜¯å¦ç™»å½•æˆåŠŸ
            if self._check_login_status():
                self.is_logged_in = True
                print("ä½¿ç”¨cookiesç™»å½•æˆåŠŸ")
                return True
        
        # å¦‚æœcookiesç™»å½•å¤±è´¥æˆ–ä¸ä½¿ç”¨cookiesï¼Œåˆ™ä½¿ç”¨æ‰‹åŠ¨ç™»å½•
        self.driver.get("https://www.xiaohongshu.com/login")
        print("è¯·åœ¨æµè§ˆå™¨ä¸­æ‰‹åŠ¨å®Œæˆç™»å½•æ“ä½œ...")
        
        # ç­‰å¾…ç”¨æˆ·æ‰‹åŠ¨ç™»å½•
        input("ç™»å½•å®ŒæˆåæŒ‰Enterç»§ç»­...")
        
        # ä¿å­˜cookiesä¾›ä¸‹æ¬¡ä½¿ç”¨
        if self._check_login_status():
            self.is_logged_in = True
            cookies = self.driver.get_cookies()
            with open(cookies_file, "w") as f:
                json.dump(cookies, f)
            print("ç™»å½•æˆåŠŸå¹¶ä¿å­˜äº†cookies")
            return True
        else:
            print("ç™»å½•å¤±è´¥")
            return False
    
    def _check_login_status(self):
        """æ£€æŸ¥æ˜¯å¦å·²ç™»å½•"""
        try:
            # è¿™é‡Œéœ€è¦æ ¹æ®å°çº¢ä¹¦çš„å®é™…é¡µé¢å…ƒç´ æ¥åˆ¤æ–­æ˜¯å¦ç™»å½•
            # ä¾‹å¦‚æ£€æŸ¥æ˜¯å¦å­˜åœ¨ç”¨æˆ·å¤´åƒæˆ–ä¸ªäººä¸­å¿ƒæŒ‰é’®
            self.driver.find_element(By.XPATH, "//div[contains(@class, 'user-avatar')]")
            return True
        except:
            return False
    
    def create_new_post(self, title, content, image_paths):
        """åˆ›å»ºæ–°å¸–å­"""
        if not self.is_logged_in:
            print("è¯·å…ˆç™»å½•")
            return False
        
        try:
            # ç‚¹å‡»å‘å¸ƒæŒ‰é’®
            self.driver.get("https://www.xiaohongshu.com/publish")
            time.sleep(3)
            
            # ä¸Šä¼ å›¾ç‰‡
            for image_path in image_paths:
                upload_input = self.wait.until(EC.presence_of_element_located(
                    (By.XPATH, "//input[@type='file']")))
                upload_input.send_keys(os.path.abspath(image_path))
                time.sleep(2)
            
            # è¾“å…¥æ ‡é¢˜
            title_input = self.wait.until(EC.presence_of_element_located(
                (By.XPATH, "//div[contains(@class, 'title-input')]/textarea")))
            title_input.send_keys(title)
            
            # è¾“å…¥æ­£æ–‡
            content_input = self.wait.until(EC.presence_of_element_located(
                (By.XPATH, "//div[contains(@class, 'content-input')]/textarea")))
            content_input.send_keys(content)
            
            # æ·»åŠ éšæœºå»¶è¿Ÿï¼Œæ¨¡æ‹Ÿäººå·¥æ“ä½œ
            time.sleep(random.uniform(1.5, 3.0))
            
            # ç‚¹å‡»å‘å¸ƒæŒ‰é’®
            publish_button = self.wait.until(EC.element_to_be_clickable(
                (By.XPATH, "//button[contains(text(), 'å‘å¸ƒ')]")))
            publish_button.click()
            
            # ç­‰å¾…å‘å¸ƒå®Œæˆ
            time.sleep(5)
            print(f"å¸–å­ '{title}' å‘å¸ƒæˆåŠŸï¼")
            return True
            
        except Exception as e:
            print(f"å‘å¸ƒå¸–å­æ—¶å‡ºé”™: {str(e)}")
            return False
    
    def close(self):
        """å…³é—­æµè§ˆå™¨"""
        if hasattr(self, 'driver'):
            self.driver.quit()

# ä½¿ç”¨ç¤ºä¾‹
if __name__ == "__main__":
    publisher = XiaohongshuPublisher()
    try:
        if publisher.login():
            publisher.create_new_post(
                "âœ¨è¶…ç®€å•çš„10åˆ†é’Ÿæ‡’äººæŠ¤è‚¤æ³•ï¼Œç´ é¢œä¹Ÿèƒ½ç¾ç¾å“’ï¼",
                "ä»Šå¤©ç»™å¤§å®¶åˆ†äº«æˆ‘çš„æ‡’äººæŠ¤è‚¤ç§˜è¯€...\n\n#æŠ¤è‚¤ #æ‡’äººæŠ¤è‚¤ #ç´ é¢œ",
                ["skincare_flatlay.jpg"]
            )
    finally:
        publisher.close()
```

<font color="#2980B9">**è¿™ä¸ªæ¨¡å—å¯ä»¥æ¨¡æ‹Ÿæ‰‹æœºæ“ä½œï¼Œè‡ªåŠ¨ç™»å½•å°çº¢ä¹¦å¹¶å‘å¸ƒå†…å®¹ï¼Œå®Œå…¨è§£æ”¾ä½ çš„åŒæ‰‹ï¼**</font>

![è‡ªåŠ¨å‘å¸ƒæ•ˆæœ](https://images.pexels.com/photos/4050315/pexels-photo-4050315.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1)

## ğŸ”„ ç¬¬å››æ­¥ï¼šæ•´åˆæ‰€æœ‰æ¨¡å—

æœ€åï¼Œæˆ‘ä»¬å°†æ‰€æœ‰æ¨¡å—æ•´åˆåœ¨ä¸€èµ·ï¼Œå®ç°å®Œæ•´çš„è‡ªåŠ¨åŒ–æµç¨‹ã€‚

åˆ›å»ºä¸€ä¸ªåä¸º`main.py`çš„æ–‡ä»¶ï¼š

```python
# main.py

from ai_content_generator import ContentGenerator
from image_generator import ImageGenerator
from xiaohongshu_publisher import XiaohongshuPublisher
import json
import os
import time
import random

def main():
    # åˆ›å»ºè¾“å‡ºç›®å½•
    if not os.path.exists("output"):
        os.makedirs("output")
    if not os.path.exists("output/images"):
        os.makedirs("output/images")
    
    # åˆå§‹åŒ–å„æ¨¡å—
    content_gen = ContentGenerator()
    image_gen = ImageGenerator()
    publisher = XiaohongshuPublisher()
    
    try:
        # ç™»å½•å°çº¢ä¹¦
        if not publisher.login():
            print("ç™»å½•å¤±è´¥ï¼Œç¨‹åºé€€å‡º")
            return
        
        # è®¾ç½®è¦å‘å¸ƒçš„å¸–å­æ•°é‡
        num_posts = int(input("è¯·è¾“å…¥è¦ç”Ÿæˆå’Œå‘å¸ƒçš„å¸–å­æ•°é‡: "))
        
        # ç”Ÿæˆå¹¶å‘å¸ƒå¸–å­
        for i in range(num_posts):
            print(f"\næ­£åœ¨å¤„ç†ç¬¬ {i+1}/{num_posts} ä¸ªå¸–å­...")
            
            # 1. ç”Ÿæˆå†…å®¹
            post = content_gen.create_post()
            print(f"å·²ç”Ÿæˆæ ‡é¢˜: {post['title']}")
            
            # ä¿å­˜å†…å®¹åˆ°æ–‡ä»¶
            post_filename = f"output/post_{i+1}.json"
            with open(post_filename, "w", encoding="utf-8") as f:
                json.dump(post, f, ensure_ascii=False, indent=4)
            
            # 2. ç”Ÿæˆå›¾ç‰‡
            image_prompt = post["image_prompt"]
            print("æ­£åœ¨ç”Ÿæˆå›¾ç‰‡...")
            image_path = image_gen.generate_image(
                image_prompt, 
                f"output/images/image_{i+1}.jpg"
            )
            
            if not image_path:
                print("å›¾ç‰‡ç”Ÿæˆå¤±è´¥ï¼Œè·³è¿‡æ­¤å¸–å­")
                continue
            
            # 3. å‘å¸ƒåˆ°å°çº¢ä¹¦
            print("æ­£åœ¨å‘å¸ƒåˆ°å°çº¢ä¹¦...")
            success = publisher.create_new_post(
                post["title"],
                post["content"],
                [image_path]
            )
            
            if success:
                print(f"ç¬¬ {i+1} ä¸ªå¸–å­å‘å¸ƒæˆåŠŸï¼")
            else:
                print(f"ç¬¬ {i+1} ä¸ªå¸–å­å‘å¸ƒå¤±è´¥")
            
            # æ·»åŠ éšæœºå»¶è¿Ÿï¼Œé¿å…æ“ä½œè¿‡äºé¢‘ç¹
            if i < num_posts - 1:
                delay = random.uniform(60, 180)  # 1-3åˆ†é’Ÿçš„éšæœºå»¶è¿Ÿ
                print(f"ç­‰å¾… {delay:.1f} ç§’åç»§ç»­...")
                time.sleep(delay)
    
    except Exception as e:
        print(f"ç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­å‡ºé”™: {str(e)}")
    
    finally:
        # å…³é—­æµè§ˆå™¨
        publisher.close()
        print("ç¨‹åºæ‰§è¡Œå®Œæ¯•")

if __name__ == "__main__":
    main()
```

<font color="#8E44AD">**è¿™æ ·ï¼Œæˆ‘ä»¬å°±å®Œæˆäº†æ•´ä¸ªè‡ªåŠ¨åŒ–å‘å¸ƒç³»ç»Ÿçš„æ­å»ºï¼**</font>

![å®Œæ•´æµç¨‹æ•ˆæœ](https://images.unsplash.com/photo-1551033406-611cf9a28f67?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1074&q=80)

## ğŸ’¡ å®ç”¨æŠ€å·§ä¸æ³¨æ„äº‹é¡¹

### æé«˜å†…å®¹è´¨é‡çš„æŠ€å·§

1. **å®šåˆ¶åŒ–æç¤ºè¯**ï¼šæ ¹æ®ä½ çš„è´¦å·å®šä½è°ƒæ•´AIæç¤ºè¯ï¼Œè®©ç”Ÿæˆçš„å†…å®¹æ›´ç¬¦åˆä½ çš„é£æ ¼ã€‚

2. **æ··åˆäººå·¥ç¼–è¾‘**ï¼šå¯ä»¥è®¾ç½®ä¸€ä¸ªå®¡æ ¸ç¯èŠ‚ï¼Œåœ¨AIç”Ÿæˆå†…å®¹åç”±äººå·¥è¿›è¡Œå¾®è°ƒï¼Œè¿™æ ·æ—¢ä¿è¯æ•ˆç‡åˆèƒ½æé«˜è´¨é‡ã€‚

3. **å»ºç«‹å†…å®¹åº“**ï¼šå°†ç”Ÿæˆçš„é«˜è´¨é‡å†…å®¹ä¿å­˜èµ·æ¥ï¼Œå½¢æˆè‡ªå·±çš„å†…å®¹åº“ï¼Œå¯ä»¥åœ¨ä¸åŒæ—¶é—´é‡å¤ä½¿ç”¨ã€‚

### é¿å…è¢«å¹³å°è¯†åˆ«ä¸ºæœºå™¨äºº

<font color="#E67E22">**è¿™ç‚¹è¶…çº§é‡è¦ï¼ä¸ç„¶è´¦å·å®¹æ˜“è¢«å°ï¼**</font>

1. **éšæœºå»¶è¿Ÿ**ï¼šåœ¨å„æ“ä½œä¹‹é—´æ·»åŠ éšæœºæ—¶é—´é—´éš”ï¼Œæ¨¡æ‹Ÿäººç±»æ“ä½œèŠ‚å¥ã€‚

2. **åˆ†æ•£å‘å¸ƒæ—¶é—´**ï¼šä¸è¦åœ¨å›ºå®šæ—¶é—´å‘å¸ƒï¼Œè®¾ç½®éšæœºçš„å‘å¸ƒæ—¶é—´æ®µã€‚

3. **é™åˆ¶å‘å¸ƒé¢‘ç‡**ï¼šæ¯å¤©å‘å¸ƒçš„æ•°é‡ä¸è¦è¿‡å¤šï¼Œå»ºè®®æ§åˆ¶åœ¨1-3ç¯‡ã€‚

4. **IPè½®æ¢**ï¼šä½¿ç”¨ä»£ç†IPæœåŠ¡ï¼Œé¿å…å›ºå®šIPé¢‘ç¹æ“ä½œè¢«é™åˆ¶ã€‚

### åˆè§„æ€§æé†’

1. **éµå®ˆå¹³å°è§„åˆ™**ï¼šç¡®ä¿ç”Ÿæˆçš„å†…å®¹ç¬¦åˆå°çº¢ä¹¦çš„ç¤¾åŒºè§„èŒƒã€‚

2. **é¿å…æ•æ„Ÿå†…å®¹**ï¼šåœ¨AIæç¤ºè¯ä¸­æ˜ç¡®æ’é™¤æ”¿æ²»ã€è‰²æƒ…ç­‰æ•æ„Ÿè¯é¢˜ã€‚

3. **åŸåˆ›å£°æ˜**ï¼šå¦‚ä½¿ç”¨AIç”Ÿæˆå†…å®¹ï¼Œå»ºè®®åœ¨è´¦å·ç®€ä»‹ä¸­è¯´æ˜ã€‚

## ğŸš€ æ‰©å±•ä¸ä¼˜åŒ–

æƒ³è®©è¿™ä¸ªç¥å™¨æ›´å¼ºå¤§ï¼Ÿè¯•è¯•è¿™äº›æ‰©å±•åŠŸèƒ½ï¼š

1. **æ•°æ®åˆ†æ**ï¼šæ·»åŠ æ•°æ®æ”¶é›†æ¨¡å—ï¼Œåˆ†æå“ªç±»å†…å®¹è¡¨ç°æ›´å¥½ã€‚

2. **å¤šå¹³å°æ”¯æŒ**ï¼šæ‰©å±•æ”¯æŒæŠ–éŸ³ã€å¾®åšç­‰å…¶ä»–å¹³å°ã€‚

3. **è¯„è®ºè‡ªåŠ¨å›å¤**ï¼šå®ç°è‡ªåŠ¨å›å¤ç²‰ä¸è¯„è®ºçš„åŠŸèƒ½ã€‚

4. **å¤šçº¿ç¨‹å¤„ç†**ï¼šä½¿ç”¨å¤šçº¿ç¨‹åŒæ—¶å¤„ç†å†…å®¹ç”Ÿæˆå’Œå›¾ç‰‡ç”Ÿæˆï¼Œæé«˜æ•ˆç‡ã€‚

<font color="#16A085">**æœ‰äº†è¿™ä¸ªPythonè‡ªåŠ¨å‘å¸ƒç¥å™¨ï¼Œä½ çš„å°çº¢ä¹¦è¿è¥æ•ˆç‡è‡³å°‘æå‡10å€ï¼**</font>

## ğŸ“ æ€»ç»“

é€šè¿‡æœ¬æ–‡ä»‹ç»çš„Pythonè‡ªåŠ¨åŒ–æ–¹æ¡ˆï¼Œä½ å¯ä»¥ï¼š

1. **å¤§å¹…èŠ‚çœæ—¶é—´**ï¼šä»å†…å®¹åˆ›ä½œåˆ°å‘å¸ƒå…¨æµç¨‹è‡ªåŠ¨åŒ–
2. **ä¿æŒå†…å®¹è´¨é‡**ï¼šAIç”Ÿæˆçš„å†…å®¹ç»è¿‡ç²¾å¿ƒè®¾è®¡çš„æç¤ºè¯å¼•å¯¼ï¼Œè´¨é‡æœ‰ä¿è¯
3. **æé«˜è´¦å·å¢é•¿é€Ÿåº¦**ï¼šç¨³å®šçš„å‘å¸ƒé¢‘ç‡æœ‰åŠ©äºè´¦å·å¿«é€Ÿæˆé•¿

å¸Œæœ›è¿™ä¸ªé¡¹ç›®èƒ½å¸®åŠ©ä½ åœ¨å°çº¢ä¹¦è¿è¥ä¸­äº‹åŠåŠŸå€ï¼å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜æˆ–æ”¹è¿›å»ºè®®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€è®¨è®ºã€‚

---

**å…è´£å£°æ˜**ï¼šæœ¬æ–‡æä¾›çš„ä»£ç å’Œæ–¹æ³•ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ï¼Œè¯·éµå®ˆç›¸å…³å¹³å°çš„ç”¨æˆ·åè®®å’Œè§„å®šã€‚ä½¿ç”¨è‡ªåŠ¨åŒ–å·¥å…·æ—¶è¯·é€‚åº¦ï¼Œé¿å…å¯¹å¹³å°é€ æˆè´Ÿæ‹…ã€‚

#Pythonè‡ªåŠ¨åŒ– #å°çº¢ä¹¦è¿è¥ #AIå†…å®¹åˆ›ä½œ #å†…å®¹è¥é”€