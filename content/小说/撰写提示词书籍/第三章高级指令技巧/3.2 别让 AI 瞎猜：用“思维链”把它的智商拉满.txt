【第 3 章 - 高级指令技巧】
3.2 别让 AI 瞎猜：用“思维链”把它的智商拉满

有这样一个真实的段子：
早期的 GPT 模型在回答数学题时经常翻车。
用户问：“Roger 有 5 个网球，他买了两罐网球，每罐有 3 个。请问他现在有几个网球？”
AI 自信地回答：“11 个。”

你可能会嘲笑 AI 连小学数学都不会做。
但研究人员发现，如果在这句提问后面加一句简单的“咒语”，AI 就能立刻答对（5 + 2*3 = 11）。
这句咒语就是：**“Let's think step by step”（让我们一步步思考）。**

这就是著名的 **CoT（Chain of Thought，思维链）** 提示法。
它不只是为了做数学题，它是让 AI 处理复杂逻辑任务的**唯一解药**。

一、 为什么 AI 会“脑残”？（因为它没有草稿纸）
我们要明白大模型的思考方式：它是**单向预测**的。
当它输出第一个字时，它并不知道这一句话的最后一个字是什么。它是一边说一边想，就像一个没有草稿纸、必须心算并立即口述答案的学生。
对于复杂的逻辑问题，如果强迫它直接给出答案，它只能凭“直觉”（概率）瞎蒙。
但如果你允许它把中间的推理过程写出来（相当于给了它一张草稿纸），它的正确率就会大幅提升。

二、 CoT 的两种玩法
**玩法 1：零样本 CoT（懒人版）**
不需要给例子，只需要在指令末尾加上魔法咒语。
*   **咒语 A**：“请一步步思考。”（Let's think step by step.）
*   **咒语 B**：“请解释你的推理过程，然后再给出结论。”

**实战案例：逻辑推理**
> **用户**：把大象装进冰箱需要几步？
> **AI（普通版）**：通常说是三步。
> **AI（CoT 版）**：
> 让我们一步步思考：
> 1. 第一步：打开冰箱门。因为冰箱是封闭容器，必须先开启入口。
> 2. 第二步：把大象放进去。这涉及到体积空间问题，假设冰箱足够大。
> 3. 第三步：关上冰箱门。为了完成封闭状态。
> 结论：总共需要三步。

你可能会觉得这个例子太简单。但当任务变成“分析一份 50 页的财报是否存在欺诈风险”时，有没有这句“一步步思考”，结果天差地别。

**玩法 2：少样本 CoT（学霸版）**
与其只告诉它“要思考”，不如直接演示“怎么思考”。
这就需要你在提示词里提供一个**包含推理过程的案例**。

**模版：**
> Q: [问题 A]
> A: [推理步骤] -> [结论]
>
> Q: [你的新问题]
> A:

**实战案例：情感分析**
> **任务**：判断这句话的情绪是正面的还是负面的。
>
> **你给的范例**：
> Q: “这部电影虽然特效很华丽，但是剧情像一坨屎。”
> A: 这句话前半部分提到“特效华丽”，是正面评价；但后半部分通过“但是”转折，批评剧情是“一坨屎”，这是极强烈的负面评价。通常剧情权重高于特效。**所以，整体情绪是负面的。**
>
> **你的提问**：
> Q: “这家餐厅服务员脸很臭，不过牛排确实好吃到哭。”
> A:

**AI 的回答**：
> 这句话前半部分批评服务态度，是负面；后半部分用“不过”转折，极力称赞食物，是正面。在餐饮体验中，食物质量通常是核心。**所以，整体情绪是偏正面的（或者由于服务问题，属于中性偏正）。**

看到区别了吗？
如果你不给范例，AI 可能只会回答“正面”或“负面”，你根本不知道它判断的逻辑对不对。有了 CoT，你可以检查它的逻辑链条在哪里断了。

三、 什么时候必须用 CoT？
不是所有问题都需要用牛刀。问“西红柿炒蛋怎么做”不需要思维链。
但在以下场景，CoT 是**必选项**：
1.  **数学/逻辑计算**：涉及算数、推理。
2.  **代码生成**：写复杂的业务逻辑代码。
3.  **深度分析**：分析财报、法律文书、医学诊断。
4.  **创意写作**：写侦探小说（需要设计严密的作案手法）。

四、 CoT 的变种：ToT（Tree of Thoughts，思维树）
这听起来更高级，其实原理很简单：
CoT 是一条路走到黑。
ToT 是**让 AI 同时想 3 种可能的方案，然后自己选一个最好的**。

**指令模版：**
> “请像三个不同的专家一样思考这个问题。
> 每个专家都要提出一个独特的解决方案。
> 然后，请你们三个互相辩论，指出对方方案的缺陷。
> 最后，综合你们的观点，得出一个最优解。”

这招在**解决由于思维定势导致的死胡同**时，有着奇效。

五、 本节小结
别再抱怨 AI 笨了。
很多时候，它只是还没来得及“思考”就被你逼着“交卷”了。
多给它一点耐心，多敲一行“请一步步思考”。
你会发现，机器的理性光辉，有时候比人类更耀眼。

下一节，我们将深入讲解刚才提到的**“少样本提示（Few-Shot）”**。
那是让 AI 瞬间学会你独家秘籍的“吸星大法”。
