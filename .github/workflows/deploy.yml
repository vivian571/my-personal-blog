# GitHub Pages éƒ¨ç½²å·¥ä½œæµ
# è¿™ä¸ªå·¥ä½œæµä¼šåœ¨æ¯æ¬¡æ¨é€åˆ° main åˆ†æ”¯æ—¶è‡ªåŠ¨æ‰§è¡Œ

name: Deploy to GitHub Pages

on:
  push:
    branches:
      - main # åªåœ¨ main åˆ†æ”¯ä¸Šè§¦å‘

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest # ä½¿ç”¨æœ€æ–°çš„ Ubuntu ç¯å¢ƒ
    steps:
      - name: Checkout ğŸ›ï¸
        uses: actions/checkout@v3 # ç¬¬ä¸€æ­¥ï¼šæ‹‰å–ä½ çš„ä»£ç 

      - name: Setup Node.js ğŸ—ï¸
        uses: actions/setup-node@v3 # ç¬¬äºŒæ­¥ï¼šè®¾ç½® Node.js ç¯å¢ƒ
        with:
          node-version: '20' # ä½¿ç”¨ Node.js 20

      - name: Install Dependencies ğŸ“¦
        run: npm install # ç¬¬ä¸‰æ­¥ï¼šå®‰è£…é¡¹ç›®ä¾èµ–

      - name: Build Project ğŸ”¨
        run: npm run export # ç¬¬å››æ­¥ï¼šæ„å»ºå¹¶å¯¼å‡ºé™æ€æ–‡ä»¶

      - name: Deploy to GitHub Pages ğŸš€
        uses: peaceiris/actions-gh-pages@v3 # ç¬¬äº”æ­¥ï¼šéƒ¨ç½²åˆ° GitHub Pages
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./out # Next.js é™æ€å¯¼å‡ºçš„ç›®å½•
